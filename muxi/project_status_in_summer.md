### 6.8

本周进度报告：

+   继续看源码，和上周比算是找到了一点方法

+   demo只能说完成一半，请求auth code和token的没什么问题

+   还存在的问题：

    -   [ ] token的存储默认是使用buntDB，要使用另外的包转为 MySQL

    -   [ ] clientInfo的存储默认是使用map，同样要转入 MySQL中（或者其它）

    -   [ ] token过期时间默认为7200，需要去看看如何自定义设置，可能涉及到 jwt-go 包

    -   [x] 使用的是net/http，考虑过渡到 gin 

    -   [x] /refresh 路由，更新token的部分还未写

    -   [x] 该包的 token请求校验方法（VadationTokenRequest）和 auth code 请求校验方法（VadationAuthorizeRequest）都使用 formValue 来获取参数（应该说这个库都是这么获取请求的参数的），如果用 json 的话那要重写该方法。另外，个人倾向于重写该类方法，因为没有什么 log 埋点，如有错误不容易追踪。

    -   [x] 客户端ID 和 secret 的生成要考虑是否用 uuid，还是其它的随机字符串，目前只是比较简单地实现客户端凭证的生成
    -   [ ] /auth 无response的问题

+   总结：这周花的时间不是很多，满打满算两天的时间，下周考试后将会投入更多时间上来，尽快完成该任务

下周任务：

+   demo 继续完成
+   尽快熟悉工作台的业务，把任务交付下去
+   （如有时间）课栈的一些地方还需要优化



### 6.15

本周进度报告：

+   demo就先告一段落，直接开始写auth吧，一些细节需要时再补充
    +   上次说的token存储要从buntDB换到 MySQL，但看了几个网上已有的相关 MySQL插件，感觉都不是很好，所以如果之后要换的话需要自己再写，buntDB先用下。
+   课栈相关的一些工作，做了一些优化
+   工作台：
    +   gateway：http://work.muxi-tech.xyz/project/7/doc/588
    +   team服务不清楚具体负责哪些事宜。看原来的 py 版，其有group和team之分，group是组别，有相关的API，team是团队，无相关API。

下周任务：

+   写oauth



### 6.29

本周进度报告：

+   使用 MySQL 替换 token 和 client 的存储
+   匣子电费任务交付给DYJ了
+   问题：
    +   现在还差的就是请求授权码的重定向问题。一系列的重定向有点繁杂，代码实现遇到一些障碍。在此理一下请求过程：
        1.  客户端前端向 oauth 服务器请求授权码
        2.  oauth服务器携带auth code 重定向入客户端后端
        3.  后端使用 auth code 向 oauth 服务器请求token
        4.  oauth服务器返回token
        5.  问题来了，后端拿到token，如何给前端？
    +   如不使用重定向（目前写好的是这种）：
        1.  客户端前端向 oauth 服务器请求授权码
        2.  oauth服务器返回 auth code给前端
        3.  前端携带auth code请求后端
        4.  后端向oauth服务器请求token
        5.  oauth服务器返回token给后端
        6.  后端返回token给前端
    +   另外，前后端交互的token和oauth的access token应该是不同的吧？

下周任务：

+   赶紧把oauth结束吧，进度太慢了



### 7.6

本周进度报告：

+   team 服务（WWJ）：
    +   team 的 RPC 接口大概分为小组、团队和申请三个部分，现基本完成小组部分的接口；
    +   下周计划完成剩余的接口。
+   gateway （ZJQ）：
    +   在写关于 feed 服务的部分，还差一点；
    +   下桌计划完成 status、project 部分。
+   匣子电费（DYJ）：
    +   目前刚看关于 mongoDB 的东西，安装、如何连接等；
    +   下周计划完成开发。
+   user 服务：
    +   注册、登录、注册客户端部分写得基本差不多了，但 token 部分的生成和解析还没写，也还没测试过；
    +   下周计划编写完成 oauth 这些部分，并通过测试；补上 WWJ 需要的 RPC 接口。



### 7.13

项目开发进度报告：

+   工作台 team 服务（WWJ）：
    +   team 代码初步完成，但还需经过测试与修改；
    +   本周计划：完成接口测试。
    +   进度：50%
+   工作台 gateway （ZJQ）：
    +   初步完成 API 路由的编写，并经过 review，仍需修改；
    +   本周计划：完成路由修改；测试对接其它微服务；
    +   进度：20%
+   匣子电费服务（DYJ）：
    +   完成主体部分的开发，经过 review 以及进一步沟通后，需要进行一些较大的改动与补充；
    +   本周计划：完成开发，提交 PR。
    +   进度：35%
+   工作台 user 服务（ZMC）：
    +   完成与 oauth 相关部分的测试，经过 review 后完成修改；
    +   已补上 team 服务所需要的 RPC 接口；



### 7.28

项目进度报告：

+   工作台 team 服务（WWJ）：
    +   已 review，待修改。
+   工作台 gateway （ZJQ）：
    +   因一些服务接口的缺失进度暂时放缓；
    +   本周计划：对接 user 服务，注册、登录等逻辑。
+   匣子电费服务（DYJ）：
    +   已 review，待修改。
+   匣子校园卡服务（HXR）：
    +   写爬虫接口代码，遇到困难，进度放缓

